---
title: MYSQL性能优化-基础
date: 2020-01-25 14:09:48
tags:
---
## MYSQL基础知识

#### 1）mysql常用资源

CPU、内存、I/O、网络
CPU用于大量的计算，内存方便数据的存取，I/O主要说的是硬盘的读取，网络主要用于数据的传输。做任何优化都要从整体去考虑，根据实际的领域考虑资源的最合理配合。

#### 2）常见的应用类型

OLTP：其特点是并发量大，整体数据量比较多，但每次访问的数据比较少，且访问的数据比较离散，活跃数据占总体数据的比例不是太大。
OLAP：并发访问不多，但每次访问须要检索的数据量都比较多，而且数据访问相对较为集中，没有太明显的活跃数据概念。
其他：秒杀等场景，超高的并发访问，数据量小。
了解不同应用的使用场景方便分析资源的瓶颈和优化方向。

#### 3）MYSQL整体架构

可以大致分为三层架构，应用层、逻辑层、数据层。其中逻辑层可以分为，SQL控制和引擎。

#### INNODB存储引擎介绍
* 灾难恢复性好。
* 支持全部4种级别的事务。默认的事务隔离级别是可重复读（Repeatable Read），它的事务支持是通过多版本并发控制（MVCC）来提供的。
* 使用行级锁。
* 对于InnoDB引擎中的表，其数据的物理组织形式是簇表（Cluster Table），数据按主键来组织，也就是说主键索引和数据是在一起的，数据按主键的顺序物理分布。数据表的另一种常见形式是非簇表，其索引是有序的，而数据是无序的。
* 实现了缓冲管理，不仅能缓冲索引也能缓冲数据，并且会自动创建散列索引以加快数据的获取。相比之下，MyISAM只是缓存了索引。
* 支持外键。
* 支持热备份。

#### 物理层除了数据文件之外，还有一些重要的日志文件，这里列举其中几个
* 二进制日志：Binary Log & Binary Log Index二进制日志，也就是我们常说的binlog，是MySQL Server中最为重要的日志之一。
* 慢查询日志：slow query log
* InnoDB的在线REDO日志：InnoDB REDO Log InnoDB是一个事务安全的存储引擎，其事务安全性主要是通过在线REDO日志和记录在表空间的UNDO信息来保证的。
